{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst fetchPicturesForm = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst userInput = document.querySelector('input');\nconst loader = document.querySelector('.loader');\n\nfetchPicturesForm.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const apiKey = '22866492-0a616de8c4fefaa29c0c168ad';\n  const searchTerm = userInput.value.trim();\n\n  if (!searchTerm) {\n    iziToast.warning({\n      title: '',\n      backgroundColor: '#FFA07A',\n      message: 'Please enter a search term!',\n    });\n    return;\n  }\n\n  gallery.innerHTML = '';\n\n  showLoader();\n\n  fetch(\n    `https://pixabay.com/api/?key=${apiKey}&q=${searchTerm}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: '',\n          backgroundColor: '#EF4040',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        const galleryMarkup = data.hits\n          .map(image => {\n            return `<li class=\"gallery-item\">\n                        <a href=\"${image.largeImageURL}\">\n                          <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n                        </a>\n                        <p><b>Likes: </b>${image.likes}</p>\n                        <p><b>Views: </b>${image.views}</p>\n                        <p><b>Comments: </b>${image.comments}</p>\n                        <p><b>Downloads: </b>${image.downloads}</p>\n                      </li>`;\n          })\n          .join('');\n\n        gallery.innerHTML = galleryMarkup;\n\n        const lightbox = new SimpleLightbox('.gallery a', {\n          captions: true,\n          captionSelector: 'img',\n          captionType: 'attr',\n          captionsData: 'alt',\n          captionPosition: 'bottom',\n          animation: 250,\n        });\n\n        lightbox.on('show.simplelightbox');\n        lightbox.refresh();\n        fetchPicturesForm.reset();\n      }\n    })\n    .catch(error => {\n      console.error('Error fetching images:', error);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n\nconst showLoader = () => {\n  loader.style.display = 'block';\n};\n\nconst hideLoader = () => {\n  loader.style.display = 'none';\n};\n"],"names":["fetchPicturesForm","gallery","userInput","loader","e","apiKey","searchTerm","iziToast","showLoader","response","data","galleryMarkup","image","lightbox","SimpleLightbox","error","hideLoader"],"mappings":"6vBASA,MAAMA,EAAoB,SAAS,cAAc,OAAO,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAY,SAAS,cAAc,OAAO,EAC1CC,EAAS,SAAS,cAAc,SAAS,EAE/CH,EAAkB,iBAAiB,SAAUI,GAAK,CAChDA,EAAE,eAAc,EAEhB,MAAMC,EAAS,qCACTC,EAAaJ,EAAU,MAAM,KAAI,EAEvC,GAAI,CAACI,EAAY,CACfC,EAAS,QAAQ,CACf,MAAO,GACP,gBAAiB,UACjB,QAAS,6BACf,CAAK,EACD,MACD,CAEDN,EAAQ,UAAY,GAEpBO,IAEA,MACE,gCAAgCH,CAAM,MAAMC,CAAU,0DACvD,EACE,KAAKG,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvBH,EAAS,MAAM,CACb,MAAO,GACP,gBAAiB,UACjB,QACE,0EACZ,CAAS,MACI,CACL,MAAMI,EAAgBD,EAAK,KACxB,IAAIE,GACI;AAAA,mCACgBA,EAAM,aAAa;AAAA,4DACMA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,2CAEvDA,EAAM,KAAK;AAAA,2CACXA,EAAM,KAAK;AAAA,8CACRA,EAAM,QAAQ;AAAA,+CACbA,EAAM,SAAS;AAAA,4BAEnD,EACA,KAAK,EAAE,EAEVX,EAAQ,UAAYU,EAEpB,MAAME,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,UAAW,GACrB,CAAS,EAEDD,EAAS,GAAG,qBAAqB,EACjCA,EAAS,QAAO,EAChBb,EAAkB,MAAK,CACxB,CACP,CAAK,EACA,MAAMe,GAAS,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CACnD,CAAK,EACA,QAAQ,IAAM,CACbC,GACN,CAAK,CACL,CAAC,EAED,MAAMR,EAAa,IAAM,CACvBL,EAAO,MAAM,QAAU,OACzB,EAEMa,EAAa,IAAM,CACvBb,EAAO,MAAM,QAAU,MACzB"}